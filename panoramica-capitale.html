<!DOCTYPE html>
<html lang="it">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panoramica Capitale Trading</title>
  <link rel="icon" type="image/png" href="favicon.png"> 
  <link rel="stylesheet" href="css/panoramica.css">
  <link rel="stylesheet" href="css/menusotto.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <div class="header">
  <h1>ðŸª¸ Panoramica Capitale</h1>
 

<div style="text-align: left; font-size: 16px; color: white; padding-left: 25px; padding-top: 0x; padding-bottom: 2px;">
  <a href="https://beneinst.github.io/tradingspot/" class="link-no-underline">Home</a> |
  <a href="https://beneinst.github.io/tradingspot/operativita.html" class="link-no-underline">OperativitÃ </a> |
  <a href="https://beneinst.github.io/tradingspot/Trade12.html" class="link-no-underline">Trade Attivi</a> |
  <a href="https://beneinst.github.io/tradingspot/panoramica-capitale.html" class="link-no-underline">Panoramica Capitale</a>
</div>
</div>

        
      
        
       
  
	
	<div style="display: flex; gap: 20px; align-items: flex-start; justify-content: space-between; flex-wrap: wrap;">

  <!-- Colonna sinistra: Scheda Gestione Trade -->
  <div class="header-stat-item_f"
       style="flex: 1 1 48%; min-height: 360px; background: #2c2c2c; border-radius: 10px; padding: 35px 32px 28px 32px; display: flex; flex-direction: column;">
    
    <!-- Titolo sopra -->
    <h2 style="color: #4caf50; margin-bottom: 39px; font-weight: 600; letter-spacing: -0.2px; font-size: 1.65rem;">Trade Attivi</h2>
    
    <!-- Input + bottone allineati -->
    <div style="display: flex; align-items: center; gap: 32px;">
      <div class="form-group" style="display: flex; flex-direction: column;">
        <label for="inputTotaleIn" style="font-size: 18px; color: #fff; margin-bottom: 4px;"></label>
        <input type="number"
               style="color: #18171c; font-size: 32px; background: #E5E6FA; border-radius: 8px; border: none; padding: 4px 14px; text-align: center; box-shadow: 0 2px 8px 0 rgba(0,0,0,0.10);"
               id="inputTotaleIn" value="0" min="0">
      </div>
      <button onclick="aggiornaTrade()" class="time-range-btn">
        ðŸš€ Aggiorna Trade
      </button>
    </div>
  </div>

  <!-- Colonna destra: Grafico -->
  <div class="header-stat-item_f" style="flex: 1 1 48%; background: #2c2c2c; padding: 1px; border-radius: 8px;">
    <canvas id="capitaleChart"></canvas>
  </div>

</div>
    
   <div class="stats-grid">
  <div class="header-stat-item">
    <div class="stat-label">Totale in Cripto</div>
    <div class="stat-value totale" style="color: #f62817; font-size: 39px;" id="totaleIn"></div>
  </div>
  <div class="header-stat-item">
    <div class="stat-label">Restanti in Dollari</div>
    <div class="stat-value capitale" style="color: #1AA6ED; font-size: 39px;" id="capitale"></div>
  </div>
</div>

    
 
  
  
  <!-- Nuova card per il grafico storico -->
 <div class="container">
    <div class="card-header">
       <h3 style="color: #4caf50 !important;">ðŸª” Storico Distribuzione Capitale</h3>
    </div>
    
    <div class="tab-container">
      <div class="tab-buttons">
        <button class="tab-button active" onclick="cambiaTab(event, 'tab-distribuzione')">Distribuzione nel Tempo</button>
        <button class="tab-button" onclick="cambiaTab(event, 'tab-percentuale')">Analisi Percentuale</button>
      </div>
      
      <div class="tab-content">
        <div id="tab-distribuzione" class="tab-panel active">
          <!-- GRAFICO PRIMA DEL MENU -->
          <div class="storico-chart-container">
            <canvas id="storicoCapitaleChart"></canvas>
          </div>
          
          <!-- MENU TEMPORALE SOTTO IL GRAFICO -->
          <div class="time-range-selector" style="margin-top: 30px;">
            <button class="btn-danger active" data-days="30" onclick="cambiaRangeTempo(this)">30 Giorni</button>
            <button class="btn-danger" data-days="90" onclick="cambiaRangeTempo(this)">90 Giorni</button>
            <button class="btn-danger" data-days="180" onclick="cambiaRangeTempo(this)">6 Mesi</button>
            <button class="btn-danger" data-days="365" onclick="cambiaRangeTempo(this)">1 Anno</button>
            <button class="btn-danger" data-days="all" onclick="cambiaRangeTempo(this)">Tutto</button>
            <!-- NUOVO PULSANTE -->
            <button class="btn-edit" onclick="scaricaGrafico()" style="margin-left: 15px;">ðŸ“· Scarica Grafico</button>
          </div>
          
         

        </div>
        
        <div id="tab-percentuale" class="tab-panel">
          <div class="info-box">
            Analisi del tempo in cui il capitale Ã¨ stato allocato nelle seguenti percentuali in dollari.
          </div>
          
          <!-- GRAFICO PERCENTUALE SPOSTATO PRIMA DEI BOX -->
          <div class="storico-chart-container">
            <canvas id="percentualeCapitaleChart"></canvas>
          </div>
          
          
          
          <!-- BOX PERCENTUALI SPOSTATI SOTTO IL GRAFICO -->
          <div class="distribution-stats">
            <div class="distribution-item">
              <div class="distribution-label">0-25% in Dollari</div>
              <div class="distribution-value" style="color: #3BB9FF; font-size: 30px;" id="percentuale0_25">0 giorni</div>
            </div>
            <div class="distribution-item">
              <div class="distribution-label">25-50% in Dollari</div>
              <div class="distribution-value" style="color: #3BB9FF; font-size: 30px;" id="percentuale25_50">0 giorni</div>
            </div>
            <div class="distribution-item">
              <div class="distribution-label">50-75% in Dollari</div>
              <div class="distribution-value" style="color: #3BB9FF; font-size: 30px;" id="percentuale50_75">0 giorni</div>
            </div>
            <div class="distribution-item">
              <div class="distribution-label">75-100% in Dollari</div>
              <div class="distribution-value" style="color: #3BB9FF; font-size: 30px;" id="percentuale75_100">0 giorni</div>
            </div>
			<button onclick="scaricaGraficoPercentuale1()" class="header-stat-item" style="margin-top: 15px; margin-bottom: 20px;">
            <i class="fas fa-download"></i> Scarica Grafico Percentuale
          </button>
          </div>
        </div>
      </div>
    </div>
</div>
<span id="infoTotaleTrade"></span>
<div style="padding: 5px;"></div>

<div class="container">
  <div class="card-header">
    <h3 style="color: #4caf50 !important;">ðŸª” Capitale Totale</h3>
  </div>
  <div style="padding: 5px;"></div>  
  <!-- Gruppo principale: 5 box -->
  <div class="header-stats">
    <div class="header-stat-item">
      <div class="header-stat-label">Trade Totali</div>
      <div class="header-stat-value" style="color: #987654; font-size: 34px;" id="totaleTrade">30</div>
    </div>
   <div class="header-stat-item">
  <div class="header-stat-label">$ per Trade</div>
  <div class="header-stat-value" style="display: flex; align-items: center; gap: 6px;">
    <input type="number" style="font-size: 22px; width: 64px;" id="quotaPerTrade" class="quota-input" value="0" min="1" oninput="aggiornaCapitale()">
    <button onclick="aggiornaTrade()" class="btn-danger btn-tiny" title="Aggiorna Capitale">ðŸŽ¯</button>
  </div>
</div>

    <div class="header-stat-item">
      <div class="header-stat-label">Capitale Totale</div>
      <div class="header-stat-value" style="color: #f5f5f5; font-size: 34px;" id="capitaleTotale"></div>
    </div>
    <div class="header-stat-item">
      <div class="header-stat-label">Capitale Restante</div>
      <div class="header-stat-value" style="color: #3BB9FF; font-size: 34px;" id="capitaleInDollari"></div>
    </div>
    <div class="header-stat-item">
      <div class="header-stat-label">Totale In Cripto</div>
      <div class="header-stat-value" style="color: #f62817; font-size: 34px;" id="totaleInDollari"></div>
    </div>
  </div>
  
 <!-- Box secondari -->
<div class="header-stats">
  <div class="header-stat-item">
    <div class="header-stat-label">Media Trade Attivi</div>
    <div class="header-stat-value" style="color: #f62817; font-size: 28px;" id="mediaTradeTotaleIn">0</div>
  </div>
  <div class="header-stat-item">
    <div class="header-stat-label">Media Dollari in USDT</div>
    <div class="header-stat-value" style="color: #1aa6ed; font-size: 28px;" id="mediaDollariTrading">$0</div>
  </div>
 
</div>

  <!-- Pulsante a parte, eventuale box separato -->
  
</div></div>
<div style="padding: 5px;"></div>


  <div class="container">
  <div class="card-header">
    <h3 style="color: #4caf50 !important;">ðŸ’½ Backup &amp; Ripristino</h3>
  </div>
  <p style="color: #ADD8E6;">Salva e carica i tuoi dati per trasferirli tra dispositivi diversi.</p>
  <div class="backup-container full-box">
    <button onclick="scaricaDati()" class="stat-item">Scarica Dati (JSON)</button>
    <input type="file" id="fileInput" class="stat-item" accept=".json">
    <button onclick="caricaDati()" class="stat-item">Carica Dati</button>
  </div>
</div>

</div>

<div style="padding: 5px;"></div>  

	<!-- FOOTER -->
<div class="container" style="padding-top: 12px; padding-bottom: 12px;">
  <!-- BLOCCO MENU -->
  <div class="iflow-body">
    <nav class="iflow-custom-menu">
      <ul>
        <li>
          <div class="iflow-menu-label">Home</div>
          <ul>
            <li><a href="https://beneinst.github.io/tradingspot/">Home</a></li>
          </ul>
        </li>
        <li>
          <div class="iflow-menu-label">Gestione</div>
          <ul>
            <li><a href="https://beneinst.github.io/tradingspot/operativita.html">OperativitÃ </a></li>
            <li><a href="https://beneinst.github.io/tradingspot/Trade12.html">Trade Attivi</a></li>
            <li><a href="https://beneinst.github.io/tradingspot/panoramica-capitale.html">Panoramica Capitale</a></li>
            <li><a href="https://beneinst.github.io/tradingspot/blocco-note.html">Blocco Note</a></li>
          </ul>
        </li>
        <li>
          <div class="iflow-menu-label">Strategia 4H</div>
          <ul>
            <li><a href="https://beneinst.github.io/tradingspot/regole-trading.html">Regole</a></li>
            <li><a href="https://beneinst.github.io/tradingspot/Strategia-Trading.html">Indicatore</a></li>
            <li><a href="https://beneinst.github.io/tradingspot/chartflow/index.html">Segnali</a></li>
          </ul>
        </li>
        <li>
          <div class="iflow-menu-label">Fondamenti</div>
          <ul>
            <li><a href="https://beneinst.github.io/tradingspot/cheat-sheet.html">Patterns</a></li>
            <li><a href="https://beneinst.github.io/tradingspot/candlestick.html">Candlestick</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
  </div>
<div style="padding: 5px;"></div>  

<div class="container">
  <div class="container-f" style="padding-top: 1px; padding-bottom: 1px;">
    <div style="display: flex; align-items: center; justify-content: space-between;">
      <p style="margin: 0; color: #c3c3c3; text-align: left; height: 10px; line-height: 12px;">
        Â© 2025 Invest Flow | Trading Spot di Gerardo D'Orrico â€“ Tutti i diritti riservati.
      </p>
      <img src="images/logoinvest2.svg"
           alt="Invest Flow"
           style="height: 40px; width: auto; margin-left: 16px;" />
    </div>
  </div>
</div>




 

<div style="display:none;">
  <div id="totaleIn"></div>
  <div id="capitale"></div>
  <div id="totaleTrade"></div>
  <div id="infoTotaleTrade"></div>
  <input id="quotaPerTrade" type="number">
  <input id="inputTotaleIn" type="number">
  <div id="capitaleTotale"></div>
  <div id="capitaleInDollari"></div>
  <div id="totaleInDollari"></div>
  <span id="mediaTradeTotaleIn"></span>
  <span id="mediaDollariTrading"></span>
  <canvas id="capitaleChart"></canvas>
  <canvas id="storicoCapitaleChart"></canvas>
  <canvas id="percentualeCapitaleChart"></canvas>
</div>



<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.9/dist/chart.umd.min.js"></script>
<script src="js/panoramica.js"></script>
<script type="module" src="jsmodule/panoramica_Mod.js"></script>
</body>
</html>